<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>lonely planet</title>
	<link rel="stylesheet" href="index.css">
	<script
			crossorigin="anonymous"
			integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
			src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

</head>
<body>
<div id="stars"></div>

<div class="astride">
	<div class="core"></div>
	<div class="fire"></div>
</div>

<div id="planet">
	<div id="landmass"></div>
	<div id="landmass-2"></div>
</div>


<!--suppress JSJQueryEfficiency -->
<script>
    for (let i = 0; i < 9; i++)
    {
        $("#landmass").append("<div class='land' style='margin-left: " + (randomIntFromInterval(0, 100) - 50) + "%; width: " + randomIntFromInterval(6, 30) + "vmin;'></div>");
    }

    $("#landmass-2").html($("#landmass").html());


    function loop1()
    {
        $("#landmass").css("left", "0%");
        $("#landmass").animate({
            left: "-200%",
        }, 20000, 'linear', function ()
        {
            loop1();
        });
    }
    loop1();

    function loop2()
    {
        $("#landmass-2").css("left", "200%");
        $("#landmass-2").animate({
            left: "00%",
        }, 20000, 'linear', function ()
        {
            loop2();
        });
    }
    loop2();
    glareRandomStar();
    function glareRandomStar()
    {
		const stars = $(".star");
		const random = randomIntFromInterval(0,stars.length-1);

        stars.eq(random).animate(
			{opacity: "1"}, 500,
			function ()
            {
                stars.eq(random).animate(
                    {opacity: "0.5"}, 1000,
                    function ()
                    {
                        console.log(random);
                        glareRandomStar();
                    }
                )
            }
		)

    }

    for (let i = 0; i < 100; i++)
    {
        const size = randomFromInterval(0.5, 1.25);
        $("#stars").append(
            "<div class='star' style='transform: rotate(" + randomIntFromInterval(0, 360) + "deg); top: " + randomIntFromInterval(0, 100) + "%; left: " + randomIntFromInterval(0, 100) + "%; height: " + size + "vmin; width: " + size + "vmin'>" +
            "<div class='stripe-1'></div>" +
            "<div class='stripe-2'></div>" +
            "</div>"
        );
    }

    function randomIntFromInterval(min, max)
    {
        return Math.floor(Math.random() * (max - min + 1) + min);
    }

    function randomFromInterval(min, max)
    {
        return Math.random() * (max - min + 1) + min;
    }
</script>
</body>
</html>